---
layout: default
---

# Motivation

 - Frontend should not decided what resources are available to current user, instead API should tell frontend what is available.

 - Permissions of users on documents should be abstracted from controllers
 
 - Documents states should be, apart from standard CRUD operations, controlled by predefined workflows (i.e. draft -> pending approval -> published ).
 
 - Frontend should not (note: contradicts REST?!) know which state will document end in, just which action is available. For example blog writer should know that `publish` action is available for the user and document, but shouldn't know, that the document would go `pending approval`. This is driven by these thoughts:
   - Frontend should not need to know the business logic of the workflow.
   - User should care only about their actions, not where the document goes next, i.e. separation of concerns.
   - When workflow changes, nothing should change for current action, if it is not the subject of change itself.
 
 - Despite workflow integrations API should follow REST guidelines.
 
 - API should be self documented, changes in API should automatically propagate to docs
 
 - This framework should ~~be independent of~~ not reinvent the wheel and make use of underlying request handling solutions (ExpressJS, Fastify, Restify)

# Solution

### HATEOAS HAL Support
 - [x] Root endpoint contains _links JSON object with global resources as properties
 - [x] Each document is appended with _links JSON object with child resources as properties
 - [x] Each `_links` object contains `self` resource which represents current document
 - [x] Each `_links` property contains `href` property, which contains URL
 - [ ] Each `_links` property contains `methods` object which shows possible methods as keys and their boolean availability as values
 - [x] Each document is appended with `_actions` object with possible workflow state changing actions
 - [x] Each `_actions` property contains `href` property, which contains URL where POST request is issued to traverse document state
 - [x] For each `_links` item, availability for current user and document is shown.

### Route and Document Level Access Control
 - [x] Route level permissions authorize user to open api endpoint
 - [x] Permissions define filters
 
### Built-in document workflow status support
 - [ ] Document workflow is defined in a declarative way.
 - [ ] Document workflow state changes (i.e. actions) are automatically handled by the framework 

### OpenAPI documentation
 - [x] OpenAPI documentation is autogenerated from defined routes and provided descriptions.